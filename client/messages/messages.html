<template name="messages">
	{{#each getMessages}}
		{{#if equals type 'join'}}
			{{> join}}
		{{/if}}
		{{#if equals type 'part'}}
			{{> part}}
		{{/if}}
		{{#if equals type 'quit'}}
			{{> quit}}
		{{/if}}
		{{#if equals type 'mode'}}
			{{> mode}}
		{{/if}}
		{{#if equals type 'topic'}}
			{{> topic}}
		{{/if}}
		{{#if equals type 'nick'}}
			{{> nick}}
		{{/if}}
		{{#if equals type 'kick'}}
			{{> kick}}
		{{/if}}
		{{#if equals type 'privmsg'}}
			{{> privmsg}}
		{{/if}}
	{{/each}}
</template>

<template name="join">
	<div class="clear row other {{showEvent ..}}" data-type="join">
		<span class="time">{{time message.time}}</span>
		<span class="column event">{{#if extra.self}}&rarr; You have joined {{message.channel}}{{else}}&rarr; {{userLink this .. false}} ({{message.username}}@{{message.hostname}}) has joined {{message.channel}}{{/if}}</span>
	</div>
</template>

<template name="part">
	<div class="clear row other {{showEvent ..}}" data-type="part">
		<span class="time">{{time message.time}}</span>
		<span class="column event">{{#if extra.self}}&larr; You have left {{message.channel}}{{else}}&larr; {{userLink this .. false}} ({{message.username}}@{{message.hostname}}) has left {{message.channel}}{{/if}}</span>
	</div>
</template>

<template name="quit">
	<div class="clear row other {{showEvent ..}}" data-type="quit">
		<span class="time">{{time message.time}}</span>
		<span class="column event">{{#if extra.self}}&larr; You have disconnected{{else}}&larr; {{userLink this .. false}} ({{message.username}}@{{message.hostname}}) has quit: {{message.message}}{{/if}}</span>
	</div>
</template>

<template name="mode">
	<div class="clear row other" data-type="mode">
		<span class="time">{{time message.time}}</span>
		<span class="column event">{{#if extra.self}}&ndash;  You have set the mode {{message.mode}}{{else}}&ndash;  {{userLink this .. false}} sets mode {{message.mode}}{{/if}}</span>
	</div>
</template>

<template name="topic">
	<div class="clear row other" data-type="topic">
		<span class="time">{{time message.time}}</span>
		<span class="column event">{{#if extra.self}}&ndash;  You have changed the topic to: {{message.topic}}{{else}}&ndash;  {{userLink this .. false}} has changed the topic to: {{message.topic}}{{/if}}</span>
	</div>
</template>

<template name="nick">
	<div class="clear row other {{showEvent ..}}" data-type="nick">
		<span class="time">{{time message.time}}</span>
		<span class="column event">{{#if extra.self}}&ndash;  You have changed your nickname to {{message.newnick}}{{else}}&ndash;  {{userLink this .. false}} has changed their nickname to {{message.newnick}}{{/if}}</span>
	</div>
</template>

<template name="kick">
	<div class="clear row other" data-type="kick">
		<span class="time">{{time message.time}}</span>
		<span class="column event">{{#if extra.self}}&larr; You have been kicked from {{message.channel}}{{else}}&larr; {{userLink this .. false}} has kicked {{message.kicked}} ({{message.message}}){{/if}}</span>
	</div>
</template>

<template name="privmsg">
	<div class="clear row" data-type="privmsg" data-self="{{extra.self}}" data-highlight="{{extra.highlight}}">
		<span class="time">{{time message.time}}</span>
		<span class="column message">{{userLink this .. true}}{{message.message}}</span>
	</div>
</template>