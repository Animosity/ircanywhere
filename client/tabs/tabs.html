<template name="tabs">
	<div id="no-networks" class="hide">
		<h3>Hello there!</h3>
		<p>You are seeing this page because you are not connected to any networks, perhaps you are new?</p>
		<p>Well, if thats the case then consider <a href="{{pathFor 'addnetwork'}}">adding a network</a>.</p>
		<p>If you are not sure why you are here then you may have been disconnected from your networks for an unknown reason.</p>
	</div>
	<div id="tabs">	
		{{#each tabs}}
			{{> tab}}
		{{/each}}
	</div>
</template>

<template name="tab">
	<div id="tab-{{_id}}" class="tab clear {{isSelected}}" data-type="{{type}}">
		<div class="messages">
			<div class="loading">
				<div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div>
			</div>
			<div class="overlay-bar">
				{{#if isChannel}}
					<span class="channel-name">{{title}}</span><span class="modes">+{{modes}}</span><span class="topic">{{ircParse topic.topic this}}</span>
				{{else}}
					<span class="channel-name">{{title}}</span><span class="modes"></span><span class="topic">{{url}}</span>
				{{/if}}
			</div>
			<div class="top-message-bar message-bar clear {{#if hasUnread}}show{{/if}}">
				<span class="left">
					<span class="last hide">0</span>
					<span class="message-number">There are <span class="alert unread">{{messageCount}}</span> unread messages{{#if hasHighlight}} and <span class="alert highlight">3</span> highlights{{/if}} since your last visit.</span>
				</span>
				<span class="right">
					<a href="#" class="read-backlog">Mark as read</a>
				</span>
			</div>
			<div class="backlog">
				{{> messages}}
			</div>
			{{> input this}}
		</div>
		{{#if showUserlist}}
			<div class="userlist {{userlistClass}}">
				{{> userlist}}
			</div>
		{{/if}}
	</div>
</template>